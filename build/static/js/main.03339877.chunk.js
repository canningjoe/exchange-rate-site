(this["webpackJsonpexchange-rate-site"]=this["webpackJsonpexchange-rate-site"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(20),c=a.n(s),o=(a(27),a(14)),l=a(6),i=a(0),m=function(e){return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(i.jsx)(o.b,{to:"/",children:Object(i.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Currency Exchange Rates"})})}),Object(i.jsx)("div",{className:"container py-3",children:e.children}),Object(i.jsxs)("footer",{className:"p-3 bg-light",children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("a",{className:"badge badge-dark",href:"https://github.com/Altcademy/exchange-rate-site",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("span",{className:"mr-3 text-secondary",children:["Built by ",Object(i.jsx)("a",{href:"https://confident-einstein-d7f6cb.netlify.app/",target:"_blank",rel:"noopener noreferrer",children:"Joseph W. Canning"})," with \u2615 "]}),Object(i.jsxs)("span",{className:"mr-3 text-secondary",children:["and helped by ",Object(i.jsx)("a",{href:"https://www.altcademy.com",target:"_blank",rel:"noopener noreferrer",children:"Altcademy"})]})]})]})]})},b=a(2),u=a(3),h=a(5),d=a(4),j={AUD:{symbol:"$",name:"Australian dollar"},BGN:{symbol:"\u043b\u0432",name:"Bulgarian lev"},BRL:{symbol:"R$",name:"Brazilian real"},CAD:{symbol:"$",name:"Canadian dollar"},CHF:{symbol:"Fr",name:"Swiss franc"},CNY:{symbol:"\xa5",name:"Chinese yuan"},CZK:{symbol:"K\u010d",name:"Czech koruna"},DKK:{symbol:"kr",name:"Danish krone"},EUR:{symbol:"\u20ac",name:"Euro"},GBP:{symbol:"\xa3",name:"British pound"},HKD:{symbol:"$",name:"Hong Kong dollar"},HRK:{symbol:"kn",name:"Croatian kuna"},HUF:{symbol:"Ft",name:"Hungarian forint"},IDR:{symbol:"Rp",name:"Indonesian rupiah"},ILS:{symbol:"\u20aa",name:"Israeli new shekel"},INR:{symbol:"\u20b9",name:"Indian rupee"},ISK:{symbol:"kr",name:"Icelandic kr\xf3na"},JPY:{symbol:"\xa5",name:"Japanese yen"},KRW:{symbol:"\u20a9",name:"South Korean won"},MXN:{symbol:"$",name:"Mexican peso"},MYR:{symbol:"RM",name:"Malaysian ringgit"},NOK:{symbol:"kr",name:"Norwegian krone"},NZD:{symbol:"$",name:"New Zealand dollar"},PHP:{symbol:"\u20b1",name:"Philippine peso"},PLN:{symbol:"z\u0142",name:"Polish z\u0142oty "},RON:{symbol:"lei",name:"Romanian leu"},RUB:{symbol:"\u20bd",name:"Russian ruble"},SEK:{symbol:"kr",name:"Swedish krona"},SGD:{symbol:"$",name:"Singapore dollar"},THB:{symbol:"\u0e3f",name:"Thai baht"},TRY:{symbol:"\u20ba",name:"Turkish lira"},USD:{symbol:"$",name:"United States dollar"},ZAR:{symbol:"R",name:"South African rand"}},y=function(e){if(e.ok)return e;throw new Error("Request was either a 404 or 500")},g=function(e){return e.json()},f=function(e){var t=e.base,a=e.rates;return a?Object(i.jsxs)("table",{className:"table table-sm bg-light mt-4",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col"}),Object(i.jsxs)("th",{scope:"col",className:"text-right pr-4 py-2",children:["1.00 ",t]})]})}),Object(i.jsx)("tbody",{children:a.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{className:"pl-4 py-2",children:[e.name," ",Object(i.jsxs)("small",{children:["(",e.acronym,")"]})]}),Object(i.jsx)("td",{className:"text-right pr-4 py-2",children:Object(i.jsx)(o.b,{to:"/currencyconverter?base=".concat(t,"&quote=").concat(e.acronym),children:e.rate.toFixed(6)})})]},e.acronym)}))})]}):null},p=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).changeBase=function(t){e.setState({base:t.target.value}),e.getRatesData(t.target.value)},e.getRatesData=function(t){e.setState({loading:!0}),fetch("https://www.frankfurter.app/latest?base=".concat(t)).then(y).then(g).then((function(a){if(a.error)throw new Error(a.error);var n=Object.keys(a.rates).filter((function(e){return e!==t})).map((function(e){return{acronym:e,rate:a.rates[e],name:j[e].name,symbol:j[e].symbol}}));e.setState({rates:n,loading:!1})})).catch((function(e){return console.error(e.message)}))},e.state={base:"USD",rates:null,loading:!0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getRatesData(this.state.base)}},{key:"render",value:function(){var e=this.state,t=e.base,a=e.rates,n=e.loading;return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)("form",{className:"p-3 bg-light form-inline justify-content-center",children:[Object(i.jsxs)("h3",{className:"mb-2",children:["Base currency: ",Object(i.jsx)("b",{className:"mr-2",children:"1"})]}),Object(i.jsx)("select",{value:t,onChange:this.changeBase,className:"form-control form-control-lg mb-2",disabled:n,children:Object.keys(j).map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))})]}),Object(i.jsx)(f,{base:t,rates:a})]})}}]),a}(r.a.Component),x=a(22),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(b.a)(this,a),(n=t.call(this,e)).getRate=function(e,t){n.setState({loading:!0}),fetch("https://www.frankfurter.app/latest?base=".concat(e,"&symbols=").concat(t)).then(y).then(g).then((function(e){if(e.error)throw new Error(e.error);var a=e.rates[t];n.setState({rate:a,baseValue:1,quoteValue:Number((1*a).toFixed(3)),loading:!1})})).catch((function(e){return console.error(e.message)}))},n.getHistoricalRates=function(e,t){(new Date).toISOString().split("T")[0],new Date((new Date).getTime()-2592e6).toISOString().split("T")[0];fetch("https://api.frankfurter.app/2021-05-01..2021-05-31?from=".concat(e,"&to=").concat(t)).then(y).then(g).then((function(a){if(a.error)throw new Error(a.error);var r=Object.keys(a.rates),s=Object.values(a.rates).map((function(e){return e[t]})),c="".concat(e,"/").concat(t);n.buildChart(r,s,c)})).catch((function(e){return console.error(e.message)}))},n.buildChart=function(e,t,a){n.chartRef.current.getContext("2d");"undefined"!==typeof n.chart&&n.chart.destroy(),n.chart=new x.a(n.chartRef.current.getContext("2d"),{type:"line",data:{labels:e,datasets:[{label:a,data:t,fill:!1,tension:0}]},options:{responsive:!0}})},n.changeBaseAcronym=function(e){var t=e.target.value;n.setState({baseAcronym:t}),n.getRate(t,n.state.quoteAcronym),n.getHistoricalRates(t,n.state.quoteAcronym)},n.changeBaseValue=function(e){var t=n.convert(e.target.value,n.state.rate,n.toQuote);n.setState({baseValue:e.target.value,quoteValue:t})},n.changeQuoteAcronym=function(e){var t=e.target.value;n.setState({quoteAcronym:t}),n.getRate(n.state.baseAcronym,t),n.getHistoricalRates(n.state.baseAcronym,t)},n.changeQuoteValue=function(e){var t=n.convert(e.target.value,n.state.rate,n.toBase);n.setState({quoteValue:e.target.value,baseValue:t})};var s=new URLSearchParams(e.location.search);return n.state={rate:0,baseAcronym:s.get("base")||"USD",baseValue:0,quoteAcronym:s.get("quote")||"JPY",quoteValue:0,loading:!1},n.chartRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.baseAcronym,a=e.quoteAcronym;this.getRate(t,a),this.getHistoricalRates(t,a)}},{key:"toBase",value:function(e,t){return e*(1/t)}},{key:"toQuote",value:function(e,t){return e*t}},{key:"convert",value:function(e,t,a){var n=parseFloat(e);return Number.isNaN(n)?"":a(n,t).toFixed(3)}},{key:"render",value:function(){var e=this.state,t=e.rate,a=e.baseAcronym,n=e.baseValue,s=e.quoteAcronym,c=e.quoteValue,o=e.loading,l=Object.keys(j).map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}));return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)("div",{className:"text-center p-3",children:[Object(i.jsx)("h2",{className:"mb-2",children:"Currency Converter"}),Object(i.jsxs)("h4",{children:["1 ",a," to 1 ",s," = ",t.toFixed(4)," ",j[s].name]})]}),Object(i.jsxs)("form",{className:"form-row p-3 mb-4 bg-light justify-content-center",children:[Object(i.jsxs)("div",{className:"form-group col-md-5 mb-0",children:[Object(i.jsx)("select",{value:a,onChange:this.changeBaseAcronym,className:"form-control form-control-lg mb-2",disabled:o,children:l}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("div",{className:"input-group-text",children:j[a].symbol})}),Object(i.jsx)("input",{id:"base",className:"form-control form-control-lg",value:n,onChange:this.changeBaseValue,type:"number"})]}),Object(i.jsx)("small",{className:"text-secondary",children:j[a].name})]}),Object(i.jsx)("div",{className:"col-md-2 py-3 d-flex justify-content-center align-items-center",children:Object(i.jsx)("h3",{children:"="})}),Object(i.jsxs)("div",{className:"form-group col-md-5 mb-0",children:[Object(i.jsx)("select",{value:s,onChange:this.changeQuoteAcronym,className:"form-control form-control-lg mb-2",disabled:o,children:l}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("div",{className:"input-group-text",children:j[s].symbol})}),Object(i.jsx)("input",{id:"quote",className:"form-control form-control-lg",value:c,onChange:this.changeQuoteValue,type:"number"})]}),Object(i.jsx)("small",{className:"text-secondary",children:j[s].name})]})]}),Object(i.jsx)("canvas",{ref:this.chartRef})]})}}]),a}(r.a.Component),v=(a(37),function(){return Object(i.jsx)(o.a,{children:Object(i.jsx)(m,{children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/",exact:!0,component:p}),Object(i.jsx)(l.a,{path:"/currencyconverter",component:O}),Object(i.jsx)(l.a,{render:function(){return Object(i.jsx)("h1",{children:"404 Not found"})}})]})})})});c.a.render(Object(i.jsx)(v,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.03339877.chunk.js.map